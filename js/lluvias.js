function lluviaMes(){function t(t){d3.csv("csv/meses-lluvia.csv",function(a,n){(n=n.filter(function(a){return String(a.mes).match(t)})).forEach(function(t){t.cantidad=+t.cantidad}),r.domain(n.map(function(t){return t.fecha})),i.domain([0,d3.max(n,function(t){return t.cantidad+t.cantidad/4})]),d3.select(".yAxis").transition().duration(1e3).call(c),d3.select(".xAxis").transition().duration(1e3).call(xAxis);var o=d.selectAll("rect").data(n);o.transition().duration(1e3).attr("x",function(t){return r(t.fecha)}).attr("width",widthBar).attr("y",function(t){return i(t.cantidad)}).attr("height",function(t){return e-i(t.cantidad)}),o.exit().remove()})}var a={top:20,right:20,bottom:30,left:40},n=900-a.left-a.right,e=500-a.top-a.bottom;widthBar=n/100;var r=d3.scaleBand().range([0,n]),i=d3.scaleLinear().range([e,0]),c=d3.axisLeft(i).tickPadding(10),d=d3.select(".lluvias-por-mes-chart-container").append("svg").attr("class","lluvias-mes-media-chart-graph").attr("width",n+a.left+a.right).attr("height",e+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")");d3.csv("csv/meses-lluvia.csv",function(a,n){if(a)throw a;var o=d3.nest().key(function(t){return t.mes}).entries(n),s=d3.select("#mes");s.append("select").selectAll("option").data(o).enter().append("option").attr("value",function(t){return t.key}).text(function(t){return t.key}),s.on("change",function(){var a=d3.select(this).select("select").property("value");t(a),console.log(a)}),(n=n.filter(function(t){return String(t.mes).match(/APR/)})).forEach(function(t){t.cantidad=+t.cantidad}),r.domain(n.map(function(t){return t.fecha})),i.domain([0,d3.max(n,function(t){return t.cantidad+t.cantidad/4})]);var l=d3.axisBottom(r).tickValues(r.domain().filter(function(t,a){return!(a%4)}));d.selectAll(".bar").data(n).enter().append("rect").attr("class","bar").attr("x",function(t){return r(t.fecha)}).attr("width",widthBar).attr("y",function(t){return i(t.cantidad)}).attr("height",function(t){return e-i(t.cantidad)}),d.append("g").attr("transform","translate(0,"+e+")").call(l),d.append("g").call(c)})}mesMenu=[],lluviaMes();