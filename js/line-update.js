var margin={top:30,right:20,bottom:30,left:50},width=600-margin.left-margin.right,height=270-margin.top-margin.bottom,parseDate=d3.time.format("%d-%b-%y").parse,x=d3.time.scale().range([0,width]),y=d3.scale.linear().range([height,0]),xAxis=d3.svg.axis().scale(x).orient("bottom").ticks(5),yAxis=d3.svg.axis().scale(y).orient("left").ticks(5),valueline=d3.svg.line().x(function(t){return x(t.date)}).y(function(t){return y(t.close)}),svg=d3.select("body").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.csv("data.csv",function(t,a){a.forEach(function(t){t.date=parseDate(t.date),t.close=+t.close}),x.domain(d3.extent(a,function(t){return t.date})),y.domain([0,d3.max(a,function(t){return t.close})]),svg.append("path").attr("class","line").attr("d",valueline(a)),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis),svg.append("g").attr("class","y axis").call(yAxis)});