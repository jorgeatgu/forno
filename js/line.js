function loadCSV(){d3.csv("temperaturas-prueba.csv",function(a,t){function n(a){return a.split("-")[2]}datos=t,datos=t.filter(function(a){return String(a.fecha).match(/01-09/)}),datos.forEach(function(a){a.fecha=a.fecha,a.maxima=+a.maxima,a.minima=+a.minima,a.year=n(a.fecha)}),pintando()})}function pintando(){var a=d3.select("body").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate(50, 0)");xRange=d3.scale.linear().range([30,width]).domain([d3.min(datos,function(a){return a.year}),d3.max(datos,function(a){return a.year})]),yRange=d3.scale.linear().range([height,0]).domain([d3.min(datos,function(a){return a.maxima}),d3.max(datos,function(a){return a.maxima})]);var t=d3.svg.axis().scale(xRange).orient("bottom").ticks(62);a.append("g").attr("class","axis").attr("transform","translate(0,490)").call(t);var n=d3.svg.axis().scale(yRange).orient("left").ticks(6);a.append("g").attr("class","axis").attr("transform","translate(30, 0)").call(n);var r=d3.svg.line().x(function(a){return xRange(a.year)}).y(function(a){return yRange(a.maxima)}).interpolate("cardinal");a.append("svg:path").attr("d",r(datos)).attr("class","linea")}var datos=[],margin={top:30,right:50,bottom:30,left:110},width=1600-margin.left-margin.right,height=550-margin.top-margin.bottom;widthBar=width/62,loadCSV();