function temperaturaMensual(){var t=50,a=50,e=50,r=110,n=1200-r-a,i=500-t-e,s=d3.select(".temperatura-mensual-chart-container").append("svg").attr("class","lluvias-mes-media-chart-graph").attr("width",n+r+a).attr("height",i+t+e).append("g").attr("transform","translate("+r+","+t+")"),c=d3.scaleTime().range([0,n]),u=d3.scaleLinear().range([i,10]),l=d3.area().x(function(t){return c(t.fecha)}).y0(i).y1(function(t){return u(t.max)}),m=d3.line().x(function(t){return c(t.fecha)}).y(function(t){return u(t.max)}),o=d3.axisLeft(u).tickSize(-n).tickFormat(function(t){return t+temp}).ticks(5),d=d3.axisBottom(c).tickFormat(d3.format("d")).ticks(10);d3.csv("csv/total-media-limpio.csv",function(t,a){if(t)throw t;var e=d3.nest().key(function(t){return t.mes}).entries(a),r=d3.select("#mes-mensual");r.append("select").selectAll("option").data(e).enter().append("option").attr("value",function(t){return t.key}).text(function(t){return t.key}),r.on("change",function(){var n,t=d3.select(this).select("select").property("value");n=t,d3.csv("csv/total-media-limpio.csv",function(t,a){(a=a.filter(function(t){return String(t.mes).match(n)})).forEach(function(t){t.max=+t.max}),c.domain([1951,2018]),u.domain([d3.min(a,function(t){return t.max-5}),d3.max(a,function(t){return t.max+5})]),d3.select(".yAxisTemperaturaMM").transition().duration(600).call(o);var e=s.selectAll(".area-temperatura-mensual").data([a]);e.transition().duration(600).ease(d3.easeLinear).attr("d",l);var r=s.selectAll(".line-temperatura-mensual").data([a]);r.transition().duration(600).ease(d3.easeLinear).attr("d",m),r.exit().remove(),e.exit().remove()})}),(a=a.filter(function(t){return String(t.mes).match(/Febrero/)})).forEach(function(t){t.max=t.max,t.fecha=t.fecha,t.mes=t.mes}),c.domain([1951,2018]),u.domain([1,20]),s.append("path").data([a]).attr("class","area-temperatura-mensual").attr("d",l),s.append("path").data([a]).attr("class","line-temperatura-mensual").attr("d",m).style("stroke","#111").style("opacity","0.5"),s.append("g").attr("class","xAxisTemperaturaMM").attr("transform","translate(0,"+i+")").call(d),s.append("g").attr("class","yAxisTemperaturaMM").call(o)})}mesMenuMensual=[],temperaturaMensual();